<div *ngFor="let song of favorites()"
     class="contenedores-canciones max-w-3xl mx-auto flex flex-col md:flex-row items-center gap-4 p-4 rounded-xl bg-[#1a1a1a] border border-white/5 shadow-lg
            hover:-translate-y-1 transition-transform duration-150 relative hover:z-20">

  <!-- Left / cover -->
  <div class="flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden bg-gray-800 flex items-center justify-center">
    <i class="icono-musica bi bi-apple-music text-3xl text-gray-400"></i>
    <!-- overlay icon on hover -->
    <div class="absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity pointer-events-none">
      <svg class="w-7 h-7 text-white" viewBox="0 0 24 24" fill="currentColor">
        <path d="M8 5v14l11-7z"></path>
      </svg>
    </div>
  </div>

  <!-- Info -->
  <div class="flex-1 min-w-0 flex flex-col md:flex-row md:items-center gap-4 w-full">

    <div class="flex flex-col flex-grow min-w-0">
      <p class="text-white text-sm font-semibold truncate" title="{{ song.titulo }}">
        {{ song.titulo }}
      </p>
      <p class="text-gray-400 text-xs truncate" title="{{ song.artista }}">
        {{ song.artista }}
      </p>
      <div class="flex items-center gap-2 text-gray-500 text-xs flex-wrap">
        <span title="{{ song.genero }}">{{ song.genero }}</span>
        <span class="opacity-50">â€¢</span>
        <span>{{ song.anio }}</span>
      </div>
    </div>

    <audio
      [src]="songService.getSongAudioUrl(song.id)"
      controls
      class="w-full max-w-xs rounded-md"
      style="display: block;"
    ></audio>

  </div>

  <button (click)="removeFromFavorites(song.id)"
          class="self-start md:self-center text-xs px-3 py-1 rounded-lg border border-white/10 text-gray-300 hover:bg-white/5 transition mt-3 md:mt-0">
    Eliminar
  </button>
</div>
